## 18. Java中的异常体系

**Java**的所有异常父类**Throwable**

**Throwable**有两个子类: **Exception**和**Error**

**Error**是错误,一旦出现,程序会自动停止

**Exception**的子类分类: **RunTimeException**和**CheckedException**

检测异常一般不会出现,**会导致编译过程中,编译不通过**

运行时异常在程序执行过程中,**一般导致线程执行失败**



## 19. GC如何判断垃圾回收

首先垃圾回收有**两种算法**:

- **引用计数法**: 如果这个对象**被其他对象所引用**,那么**引用计数加一**,**释放引用**的时候**引用减一**,如果**计数为0**,则代表此对象可以被**回收**

  > [!Tip]
  >
  > 如果A对象引用B对象,A对象引用计数加一,同时B对象应用A对象,B对象的计数加一,就会出现A对象和B对象都无法被回收的场面

- **可达性分析算法**: 有一个**GC Root**,当一个对象到**GC Root**没有引用链的时候,代表该对象可以被回收,Java的GC就是采用这种垃圾回收算法

  相关文章 :[GC Roots 是什么？哪些对象可以作为 GC Root？](https://blog.csdn.net/weixin_38007185/article/details/108093716)

  **GC Root**大概有一下4种类型

  1. 本地方法栈中**Native方法**引用的对象
  2. **虚拟机栈中**引用的对象
  3. 方法区**类静态属性**引用的对象
  4. 方法区中**常量**引用的对象

  <br>被**GC Root**不被引用的对象不一定一定要被回收: **GC Root**给了对象一次存活的机会

  第一次进行可达性分析的时候,对象会被标记

  第二次的时候,看对象是否覆盖了**finalize()**方法,如果没有覆盖,则直接回收,如果覆盖了,就会执行**finalize()方法**,然后再进行可达性分析